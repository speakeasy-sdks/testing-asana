# stories

## Overview

*See [our forum post](https://forum.asana.com/t/no-more-parsing-story-text-new-fields-on-stories/42924) for more info on when conditional fields are returned.*

A story represents an activity associated with an object in the Asana system. Stories are generated by the system whenever users take actions such as creating or assigning tasks, or moving tasks between projects. "Comments" are also a form of user-generated story.

### Available Operations

* [create_story_for_task](#create_story_for_task) - Create a story on a task
* [delete_story](#delete_story) - Delete a story
* [get_stories_for_task](#get_stories_for_task) - Get stories from a task
* [get_story](#get_story) - Get a story
* [update_story](#update_story) - Update a story

## create_story_for_task

Adds a story to a task. This endpoint currently only allows for comment
stories to be created. The comment will be authored by the currently
authenticated user, and timestamped when the server receives the request.

Returns the full record for the new story added to the task.

### Example Usage

```python
import testing_2
from testing_2.models import operations, shared

s = testing_2.Testing2(
    security=shared.Security(
        oauth2="",
    ),
)

req = operations.CreateStoryForTaskRequest(
    request_body=operations.CreateStoryForTaskRequestBodyInput(
        data=shared.StoryRequestInput(
            html_text='<body>This is a comment.</body>',
            is_pinned=False,
            sticker_name=shared.StoryRequestStickerName.DANCING_UNICORN,
            text='This is a comment.',
        ),
    ),
    opt_fields=[
        'ea',
        'aspernatur',
    ],
    opt_pretty=False,
    task_gid='vel',
)

res = s.stories.create_story_for_task(req)

if res.create_story_for_task_201_application_json_object is not None:
    # handle response
```

### Parameters

| Parameter                                                                                    | Type                                                                                         | Required                                                                                     | Description                                                                                  |
| -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| `request`                                                                                    | [operations.CreateStoryForTaskRequest](../../models/operations/createstoryfortaskrequest.md) | :heavy_check_mark:                                                                           | The request object to use for the request.                                                   |


### Response

**[operations.CreateStoryForTaskResponse](../../models/operations/createstoryfortaskresponse.md)**


## delete_story

Deletes a story. A user can only delete stories they have created.

Returns an empty data record.

### Example Usage

```python
import testing_2
from testing_2.models import operations

s = testing_2.Testing2(
    security=shared.Security(
        oauth2="",
    ),
)

req = operations.DeleteStoryRequest(
    opt_fields=[
        'magnam',
        'ratione',
        'ex',
        'laudantium',
    ],
    opt_pretty=False,
    story_gid='dicta',
)

res = s.stories.delete_story(req)

if res.delete_story_200_application_json_object is not None:
    # handle response
```

### Parameters

| Parameter                                                                      | Type                                                                           | Required                                                                       | Description                                                                    |
| ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ |
| `request`                                                                      | [operations.DeleteStoryRequest](../../models/operations/deletestoryrequest.md) | :heavy_check_mark:                                                             | The request object to use for the request.                                     |


### Response

**[operations.DeleteStoryResponse](../../models/operations/deletestoryresponse.md)**


## get_stories_for_task

Returns the compact records for all stories on the task.

### Example Usage

```python
import testing_2
from testing_2.models import operations

s = testing_2.Testing2(
    security=shared.Security(
        oauth2="",
    ),
)

req = operations.GetStoriesForTaskRequest(
    limit=224317,
    offset='maiores',
    opt_fields=[
        'ex',
    ],
    opt_pretty=False,
    task_gid='nulla',
)

res = s.stories.get_stories_for_task(req)

if res.get_stories_for_task_200_application_json_object is not None:
    # handle response
```

### Parameters

| Parameter                                                                                  | Type                                                                                       | Required                                                                                   | Description                                                                                |
| ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| `request`                                                                                  | [operations.GetStoriesForTaskRequest](../../models/operations/getstoriesfortaskrequest.md) | :heavy_check_mark:                                                                         | The request object to use for the request.                                                 |


### Response

**[operations.GetStoriesForTaskResponse](../../models/operations/getstoriesfortaskresponse.md)**


## get_story

Returns the full record for a single story.

### Example Usage

```python
import testing_2
from testing_2.models import operations

s = testing_2.Testing2(
    security=shared.Security(
        oauth2="",
    ),
)

req = operations.GetStoryRequest(
    limit=569211,
    offset='voluptatibus',
    opt_fields=[
        'sapiente',
        'quisquam',
    ],
    opt_pretty=False,
    story_gid='saepe',
)

res = s.stories.get_story(req)

if res.get_story_200_application_json_object is not None:
    # handle response
```

### Parameters

| Parameter                                                                | Type                                                                     | Required                                                                 | Description                                                              |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------------ | ------------------------------------------------------------------------ | ------------------------------------------------------------------------ |
| `request`                                                                | [operations.GetStoryRequest](../../models/operations/getstoryrequest.md) | :heavy_check_mark:                                                       | The request object to use for the request.                               |


### Response

**[operations.GetStoryResponse](../../models/operations/getstoryresponse.md)**


## update_story

Updates the story and returns the full record for the updated story. Only comment stories can have their text updated, and only comment stories and attachment stories can be pinned. Only one of `text` and `html_text` can be specified.

### Example Usage

```python
import testing_2
from testing_2.models import operations, shared

s = testing_2.Testing2(
    security=shared.Security(
        oauth2="",
    ),
)

req = operations.UpdateStoryRequest(
    request_body=operations.UpdateStoryRequestBodyInput(
        data=shared.StoryRequestInput(
            html_text='<body>This is a comment.</body>',
            is_pinned=False,
            sticker_name=shared.StoryRequestStickerName.DANCING_UNICORN,
            text='This is a comment.',
        ),
    ),
    opt_fields=[
        'impedit',
        'corporis',
    ],
    opt_pretty=False,
    story_gid='veniam',
)

res = s.stories.update_story(req)

if res.update_story_200_application_json_object is not None:
    # handle response
```

### Parameters

| Parameter                                                                      | Type                                                                           | Required                                                                       | Description                                                                    |
| ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------ |
| `request`                                                                      | [operations.UpdateStoryRequest](../../models/operations/updatestoryrequest.md) | :heavy_check_mark:                                                             | The request object to use for the request.                                     |


### Response

**[operations.UpdateStoryResponse](../../models/operations/updatestoryresponse.md)**

